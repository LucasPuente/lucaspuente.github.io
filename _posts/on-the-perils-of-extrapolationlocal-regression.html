---
layout: post
title: On the perils of extrapolationlocal regression
date: 
type: post
published: false
status: draft
categories: []
tags:
- data science
- economics
- extrapolation
- labor market
- local regression
- loess
- modeling
meta:
  _publicize_pending: '1'
  tumblr_lucaspuente_permalink: http://lucaspuente.tumblr.com/post/69220216976/on-the-perils-of-extrapolationlocal-regression
  tumblr_lucaspuente_id: '69220216976'
  _wp_old_slug: '69220216976'
author:
  login: lucaspuente
  email: ll.puente@gmail.com
  display_name: lucaspuente
  first_name: ''
  last_name: ''
---
<p>The Bureau of Labor Statistics released the jobs&rsquo; <a href="http://www.bls.gov/news.release/empsit.nr0.htm">numbers</a> for the month of November and many were pleased to see the unemployment rate fall from 7.3% to 7.0%. This was seen by many as positive news and the stock market <a href="http://money.cnn.com/2013/12/06/investing/stocks-markets/">jumped</a> as a result. </p>
<p>However, not everyone viewed the news through rose colored glasses.</p>
<blockquote class="twitter-tweet">
<p>The chart that will make you worry about the labor market. <a href="http://t.co/S25cSyEwhx">pic.twitter.com/S25cSyEwhx</a></p>
<p>— Justin Wolfers (@JustinWolfers) <a href="https://twitter.com/JustinWolfers/statuses/409011393925767168">December 6, 2013</a></p></blockquote>
<p>He makes an important point: we shouldn&rsquo;t consider the jump from October to November that meaningful given that the labor market was highly distorted by the government shutdown that lasted the first two weeks of that month. By showing that employment actually dipped from September to November (according to &ldquo;the household adjustment survey data adjusted to a payroll concept&rdquo;), he implies that we should be actually quite worried about the labor market. </p>
<p>After seeing this tweet, I set out to see if a longer pattern in the data match corroborate his conclusion. To do this, I downloaded the past 5 years of civilian employment data* from the <a href="http://research.stlouisfed.org/fred2/series/CE16OV">FRED database</a> and fit two loess (aka <a href="http://en.wikipedia.org/wiki/Local_regression">local regression</a>) curves. The first (in blue) has a span*  of 1/5, while the second (in dark green) had a span of 2/5. Otherwise, the two are identical.</p>
<p><span><img src="{{ site.baseurl }}/assets/tumblr_inline_mxewhiKj8h1rkn0fa.png" /></span></p>
<p><span>This subtle difference turns out to be pretty important in evaluating the November jobs report. By fitting the blue loess curve to the previous 60 months of data (September 2009 - September 2013), we predict employment of 144,127,300. Our predict using the red loess curve is 144,592,200, a difference of 464,900 jobs. Perhaps more importantly, the blue curve says the labor market is out performing our expectations, while the red curve says the opposite. </span>This important difference can be solely attributed to s<span>eems like an unimportant or minor modeling choice. This is an lesson for all of us working in data science to remember when interpreting data.</span></p>
<p><span></span></p>
<p><span>*This data set is close but not identical to the one Wolfers uses. I was unable to find the exact data set that he did.</span></p>
<p><span>**The span is also known as the smoothing parameter and is represented by alpha in regression equations. A larger alpha corresponds to fewer local regressions being run, while a smaller alpha uses fewer data points to construct the smoothing curve. When alpha is equal to one (the upper bound) the loess is identical to a standard linear regression.</span></p>
<p><a href="//platform.twitter.com/widgets.js">//platform.twitter.com/widgets.js</a></p>
